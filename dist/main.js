(()=>{"use strict";const e=document.querySelector("#search input"),t=document.querySelector("#search button"),n=document.querySelector("#cast"),r=document.querySelector("#temp"),c=document.querySelector("#city"),a=document.querySelector("#humidity"),u=document.querySelector("#windSpeed"),i=document.querySelector("#castIcon"),o=document.querySelector("#error"),s=document.querySelector("#selectBox"),l=config.API_KEY,d="°C";t.addEventListener("click",(t=>{t.preventDefault(),async function(e){try{const t=await fetch("https://api.openweathermap.org/data/2.5/weather?units=metric&q="+e+`&appid=${l}`);if(404==t.status||400==t.status)o.style.display="block";else{let e=await t.json();!function(e){const t=function(e){switch(e){case"Clouds":return"images/clouds.png";case"Rain":return"images/rain.png";case"Clear":default:return"images/clear.png";case"Drizzle":return"images/drizzle.png";case"Mist":return"images/mist.png";case"Snow":return"images/snow.png"}}(e.weather[0].main);i.src=t}(e),r.innerHTML=Math.round(e.main.temp)+" "+d,c.innerHTML=e.name,a.innerHTML=e.main.humidity+" %",u.innerHTML=e.wind.speed+" km/h",o.style.display="none",n.style.display="block",function(e){s.addEventListener("change",(()=>{!function(e){const t=function(e,t){switch(t){case d:return e+" "+d;case"°F":return Math.round(1.8*e+32)+" °F";default:return Math.round(e+273.15)+" K"}}(Math.round(e.main.temp),s.value);r.innerHTML=t}(e)}))}(e)}}catch(e){console.log(e)}}(e.value)}))})();